<html>
    <head>
        <style>
            .myHeading {
                color: red;
            }
        </style>
    </head>

    <body>
        <header>
            <div>
                <h1>This is the title of the page</h1>
                <h2>This is the subtitle of the page</h2>
            </div>
        </header>
        <main>
            <div>
                <hr />

                <ul id="firstList">
                    <li>1st</li>
                    <li>2nd</li>
                    <li>3rd</li>
                </ul>

                <ul id="secondList">
                    <li>1st</li>
                    <li>2nd</li>
                    <li>3rd</li>
                </ul>

                <a href="https://epicode.it">This link goes to Epicode</a>

                <div>
                    <p>This text is just for the exercise</p>
                </div>

                <div>
                    <input
                        type="text"
                        id="input-field"
                        placeholder="input field for the exercise"
                    />
                </div>
                <br />
                <div>
                    <!-- color input -->
                    <input type="color" id="color-input" />
                    <label for="color-input">Subtitle color</label>
                    <input type="color" id="color-bg-input" />
                    <label for="color-bg-input">Page color</label>
                </div>
            </div>
        </main>
        <footer>
            <div>
                <p>And this text is just for the exercise too!</p>
                <h2 style="color: red" id="footer">
                    Save this page on your computer and open it with VSCode to
                    get the questions!
                </h2>
            </div>
            <button onclick="changeTitle()">changeTitle()</button>
            <button onclick="addClassToTitle()">addClassToTitle()</button>
            <button onclick="changePcontent()">changePcontent()</button>
            <button onclick="changeUrls()">changeUrls()</button>
            <button onclick="addToTheSecond()">addToTheSecond()</button>
            <button onclick="addParagraph()">addParagraph()</button>
            <button onclick="firstUlDisappear()">firstUlDisappear()</button>
            <button onclick="paintItGreen()">paintItGreen()</button>
            <button onclick="makeItClickable()">makeItClickable()</button>
            <button onclick="changeFooterText()">changeFooterText()</button>
        </footer>
        <script>
            let randomText = [
                "Test 1",
                "Random content",
                "Lorem ipsum",
                "This is a test",
                "This is a random text",
                "Hello World",
            ];
            /* EXERCISE 1
             Write a function for changing the title of the document in something else.
            */

            const changeTitle = function (newTitle) {
                if (!newTitle) {
                    newTitle =
                        randomText[
                            Math.floor(Math.random() * randomText.length)
                        ];
                    w;
                }
                //
                const h1 = document.querySelector("h1");
                h1.innerText = newTitle;
            };

            /* EXERCISE 2
             Write a function for changing the class of the title of the page in "myHeading".
            */

            const addClassToTitle = function () {
                //
                const h1 = document.querySelector("h1");
                h1.classList.add("myHeading");
            };

            /* EXERCISE 3
             Write a function for changing the text of only the p which are children of a div.
            */

            const changePcontent = function () {
                //
                const p = document.querySelector("div p");
                p.innerText = "This is the new text";
            };

            /* EXERCISE 4
             Write a function for changing the href property of every link to https://www.google.com
            */

            const changeUrls = function () {
                //
                const links = document.querySelectorAll("a");
                links.forEach((link) => {
                    link.href = "https://www.google.com";
                });
            };

            /* EXERCISE 5
             Write a function for adding a new list item in the second unordered list.
            */

            const addToTheSecond = function (content) {
                if (!content) {
                    content =
                        randomText[
                            Math.floor(Math.random() * randomText.length)
                        ];
                }
                //
                const ul = document.querySelector("#secondList");
                const li = document.createElement("li");
                li.innerText = content;
                ul.appendChild(li);
            };

            /* EXERCISE 6
             Write a function for adding a second paragraph to the first div.
            */

            const addParagraph = function (content) {
                if (!content) {
                    content =
                        randomText[
                            Math.floor(Math.random() * randomText.length)
                        ];
                }
                //
                const div = document.querySelector("div");
                const p = document.createElement("p");
                p.innerText = content;
                div.appendChild(p);
            };

            /* EXERCISE 7
             Write a function for making the first unordered list disappear.
            */

            const firstUlDisappear = function () {
                //
                const ul = document.querySelector("#firstList");
                ul.style.display = "none";
            };

            /* EXERCISE 8
             Write a function for making the background of every unordered list green.
            */

            const paintItGreen = function () {
                //
                const uls = document.querySelectorAll("ul");
                uls.forEach((ul) => {
                    ul.style.backgroundColor = "green";
                });
            };

            /* EXERCISE 9
             Make the heading of the page change color every time the user clicks on it.
            */

            const makeItClickable = function () {
                //
                let colors = ["red", "blue", "green", "yellow", "pink"];
                const h1 = document.querySelector("h1");
                h1.addEventListener("click", () => {
                    h1.style.color =
                        colors[Math.floor(Math.random() * colors.length)];
                });
            };

            /* EXERCISE 10
             Change the footer text with something else when the user clicks on it.
            */

            const changeFooterText = function () {
                //
                const footer = document.querySelector("#footer");

                footer.addEventListener("click", () => {
                    footer.innerText = "This is the new footer text";
                });
            };

            /* EXERCISE 11
             Attach an event listener to the input field in the page that changes the text of the page's subtitle
            */

            const inputField = document.getElementById("input-field");

            inputField.addEventListener("input", (event) => {
                const h2 = document.querySelector("h2");
                h2.innerText = event.target.value;
            });
            // ...

            /* EXERCISE 11
             Attach an event listener to the input field in the page that changes the text of the page's subtitle
            */

            window.onload = function () {
                //
                const h2 = document.querySelector("h2");
                h2.innerText = "This is the new subtitle";
            };

            /* EXERCISE 13
             Use HTML5 tags to properly provide semantic meaning to the different portions of the page.
            */
            //header, main, footer

            /* ### EXTRA ###  EXERCISE 14
             Create an input of type "color" and use it to change the color of the subtitle
            */

            //change page background

            const colorInput = document.getElementById("color-input");

            colorInput.addEventListener("input", (event) => {
                const h2 = document.querySelector("h2");

                h2.style.color = event.target.value;
            });

            const colorBgInput = document.getElementById("color-bg-input");

            colorBgInput.addEventListener("input", (event) => {
                const body = document.querySelector("body");
                body.style.backgroundColor = event.target.value;

                //set text color to white if background is dark and black if background is light
                const color = event.target.value;
                const r = parseInt(color.substring(1, 3), 16);
                const g = parseInt(color.substring(3, 5), 16);
                const b = parseInt(color.substring(5, 7), 16);

                const brightness = (r * 299 + g * 587 + b * 114) / 1000; //https://stackoverflow.com/questions/596216/formula-to-determine-brightness-of-rgb-color

                if (brightness < 125) {
                    body.style.color = "white";
                } else {
                    body.style.color = "black";
                }
            });
        </script>
    </body>
</html>
